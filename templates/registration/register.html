{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block content %}
<section class="vh-100">
    <div class="container h-100 mb-4">
    

      <div class="row d-flex align-items-center justify-content-center h-100">
        <!-- <div class="col-md-8 col-lg-7 col-xl-6">
          <img src="{% static 'img/logo.png' %}"
            class="img-fluid" alt="green cool">
        </div> -->
        <div class="col-6 p-5 bg-white">
            <h3 class="text-center">{{ app_short_title }} - Register</h3>
                  <!-- Pills navs -->
                <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
                    <li class="nav-item" role="presentation">
                    <a class="nav-link" id="tab-login"  href="{% url 'system:login' %}" role="tab"
                        aria-controls="pills-login" aria-selected="true">Login</a>
                    </li>
                    <li class="nav-item" role="presentation">
                    <a class="nav-link active" id="tab-register"  href="{% url 'system:register' %}" role="tab"
                        aria-controls="pills-register" aria-selected="false">Register</a>
                    </li>
                </ul>
                <!-- Pills navs -->
                
                <!-- Pills content -->
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="pills-register" role="tabpanel" aria-labelledby="tab-register">
                        
                        <form class="collapse multi-collapse show" id="registerForm" method="POST" action="{% url 'system:register' %}">
                            {% csrf_token %}
                            {{ form|crispy }}                            
                            <div class="form-floating mb-3">
                                <input type="text" name="first_name" class="form-control" id="first_name" required>
                                <label for="first_name">First Name</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input type="text" name="middle_name" class="form-control" id="middle_name">
                                <label for="middle_name">Middle Name</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input type="text" name="last_name" class="form-control" id="last_name">
                                <label for="last_name">Last Name</label>
                            </div>

                            <div class="form-floating mb-3">
                                <input type="text" pattern="{{mobile_no_regex}}" maxlength="11" name="mobile_no" class="form-control" id="mobile_no" required>
                                <label for="mobile_no">Mobile No.</label>
                            </div>

                            <!-- Submit button -->
                            <button type="submit" class="btn btn-primary btn-block mb-3">Register</button>
                            <br>
                            <span>Didn't receive an email verification? Click
                                <a class="text-blue" type="button"  data-bs-toggle="collapse" data-bs-target=".multi-collapse" aria-expanded="false" aria-controls="registerForm verifyEmailForm">
                                Here
                                </a>
                            </span>
                        </form>

                        

                        <form class="collapse multi-collapse" id="verifyEmailForm" method="POST" action="{% url 'system:send_verification' %}">
                            {% csrf_token %}
                            <label for="verifyEmail">Email to Verify:</label>
                            <input class="form-control" type="email" name="email" required>
                            <button type="submit" class="btn btn-primary btn-block mb-3">Send Email</button>
                        
                            <br>
                            <span>Register
                                <a class="text-blue" type="button" data-bs-toggle="collapse" data-bs-target=".multi-collapse" aria-expanded="false" aria-controls="registerForm verifyEmailForm">
                                 Here
                                </a>                            
                            </span>
                        </form>
                    </div>
                    
                </div>
                <!-- Pills content -->
            
        
        </div>
      </div>
    </div>
  </section>
{% endblock content %}